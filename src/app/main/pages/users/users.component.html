@if (isLoading()) {
  @defer (on immediate) {
    <loading/>
  }
} @else {
  <div class="container animate__animated animate__fadeIn mt-3">
    <div class="row justify-content-end mb-3">
      <div class="col-auto">
        <button routerLink="/main/users/add" class="btn btn-success">Agregar</button>
      </div>
    </div>
    <div class="row">
      @if (users() && users().length > 0) {
        <table class="table">
          <thead>
            <tr>
              <th scope="col">ID</th>
              <th scope="col">Nombre</th>
              <th scope="col">Apellido</th>
              <th scope="col">Genero</th>
              <th class="text-center" scope="col">Acciones</th>
            </tr>
          </thead>
          <tbody>
            @for (user of users(); track user.id) {
              <tr>
                <th scope="row">{{user.id}}</th>
                <td>{{user.name}}</td>
                <td>{{user.lastName}}</td>
                <td>{{user.gender.length == 0 ? '-' : user.gender}}</td>
                <td>
                  <div class="container-fluid">
                    <div class="row justify-content-center">
                        <div class="col-auto">
                          <button class="btn btn-info" routerLink="/main/user/{{user.id}}">
                            <i class="fa-duotone fa-solid fa-eye"></i>
                          </button>
                        </div>
                        <div class="col-auto">
                          <button class="btn btn-danger" (click)="deleteUser(user.id)">
                            <i class="fa-duotone fa-solid fa-trash"></i>
                          </button>
                        </div>
                        <div class="col-auto">
                          <button class="btn btn-primary" routerLink="/main/user/{{user.id}}/edit">
                            <i class="fa-duotone fa-solid fa-pen"></i>
                          </button>
                        </div>

                    </div>
                  </div>
                </td>
              </tr>
            }
          </tbody>
        </table>
      } @else {
       <div class="row justify-content-center text-center">
        <h3>No se encontraron usuarios</h3>
       </div>
      }
    </div>


  </div>
}



<!-- <div class="container">
  <div class="row justify-content-center">
    @for (user of users(); track user.id) {
      <div class="col-12 col-sm-6 col-md-4 col-lg-3">
        @defer (on immediate) {
          <user-card [id]="user.id" (onDelete)="deleteUser($event)" [showDetails]="false" [showEdit]="false" >
            <p><span class="fw-bold"><i class="fa-solid fa-calendar"></i></span> {{user.name}}</p><br>
            <p><span class="fw-bold">Apellido: </span> {{user.lastName}}</p><br>
            <p><span class="fw-bold">Genero: </span> {{user.genre}}</p>
          </user-card>
        }
      </div>
    }
  </div>
</div> -->
